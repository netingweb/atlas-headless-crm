{
  "_comment": "⚠️ IMPORTANT: After modifying this file, you MUST run 'pnpm config:sync demo2' to sync changes to MongoDB. Changes are NOT applied automatically!",
  "tenant_id": "demo2",
  "entities": [
    {
      "name": "contact",
      "label": "Contact",
      "scope": "tenant",
      "fields": [
        {
          "name": "name",
          "label": "Name",
          "type": "string",
          "required": true,
          "indexed": true,
          "searchable": true,
          "embeddable": true
        },
        {
          "name": "email",
          "label": "Email",
          "type": "email",
          "required": true,
          "indexed": true,
          "searchable": true,
          "embeddable": false
        },
        {
          "name": "phone",
          "label": "Phone",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "gender",
          "label": "Gender",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "address",
          "label": "Address",
          "type": "text",
          "required": false,
          "indexed": false,
          "searchable": true,
          "embeddable": false
        },
        {
          "name": "city",
          "label": "City",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": true,
          "embeddable": false
        },
        {
          "name": "postal_code",
          "label": "Postal Code",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "customer_type",
          "label": "Customer Type",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false,
          "validation": {
            "enum": ["privato", "aziendale"]
          }
        },
        {
          "name": "sales_source",
          "label": "Sales Source",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "pipeline_stage",
          "label": "Pipeline Stage",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "labels",
          "label": "Labels",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": true,
          "embeddable": false,
          "multiple": true,
          "validation": {
            "enum": ["vip", "prospect", "hot_lead", "customer", "partner", "supplier"]
          }
        },
        {
          "name": "company_id",
          "label": "Company ID",
          "type": "reference",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false,
          "reference_entity": "company"
        }
      ]
    },
    {
      "name": "company",
      "label": "Company",
      "scope": "tenant",
      "fields": [
        {
          "name": "name",
          "label": "Name",
          "type": "string",
          "required": true,
          "indexed": true,
          "searchable": true,
          "embeddable": true
        },
        {
          "name": "email",
          "label": "Email",
          "type": "email",
          "required": true,
          "indexed": true,
          "searchable": true,
          "embeddable": false
        },
        {
          "name": "phone",
          "label": "Phone",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "phone2",
          "label": "Phone2",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "website",
          "label": "Website",
          "type": "url",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "size",
          "label": "Size",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "industry",
          "label": "Industry",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": true,
          "embeddable": true
        },
        {
          "name": "address",
          "label": "Address",
          "type": "text",
          "required": false,
          "indexed": false,
          "searchable": true,
          "embeddable": false
        },
        {
          "name": "key_contact_ids",
          "label": "Key Contact Ids",
          "type": "reference",
          "required": false,
          "indexed": false,
          "searchable": false,
          "embeddable": false,
          "multiple": true,
          "reference_entity": "contact"
        }
      ]
    },
    {
      "name": "note",
      "label": "Note",
      "fields": [
        {
          "name": "title",
          "label": "Title",
          "type": "string",
          "required": true,
          "indexed": true,
          "searchable": true,
          "embeddable": true
        },
        {
          "name": "content",
          "label": "Content",
          "type": "text",
          "required": true,
          "indexed": false,
          "searchable": true,
          "embeddable": true
        },
        {
          "name": "status",
          "label": "Status",
          "type": "string",
          "required": true,
          "indexed": true,
          "searchable": false,
          "embeddable": false,
          "default": "to do",
          "validation": {
            "enum": ["to do", "pending", "on going", "done", "canceled", "archived"]
          }
        },
        {
          "name": "expiration_date_time",
          "label": "Expiration Date Time",
          "type": "datetime",
          "required": true,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "company_id",
          "label": "Company ID",
          "type": "reference",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false,
          "reference_entity": "company"
        },
        {
          "name": "contact_id",
          "label": "Contact ID",
          "type": "reference",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false,
          "reference_entity": "contact"
        }
      ]
    },
    {
      "name": "task",
      "label": "Task",
      "fields": [
        {
          "name": "title",
          "label": "Title",
          "type": "string",
          "required": true,
          "indexed": true,
          "searchable": true,
          "embeddable": true
        },
        {
          "name": "description",
          "label": "Description",
          "type": "text",
          "required": false,
          "indexed": false,
          "searchable": true,
          "embeddable": true
        },
        {
          "name": "due_date",
          "label": "Due Date",
          "type": "date",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "type",
          "label": "Type",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "status",
          "label": "Status",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "company_id",
          "label": "Company ID",
          "type": "reference",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false,
          "reference_entity": "company"
        },
        {
          "name": "contact_id",
          "label": "Contact ID",
          "type": "reference",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false,
          "reference_entity": "contact"
        }
      ]
    },
    {
      "name": "opportunity",
      "label": "Opportunity",
      "fields": [
        {
          "name": "title",
          "label": "Title",
          "type": "string",
          "required": true,
          "indexed": true,
          "searchable": true,
          "embeddable": true
        },
        {
          "name": "value",
          "label": "Value",
          "type": "number",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "stage",
          "label": "Stage",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "description",
          "label": "Description",
          "type": "text",
          "required": false,
          "indexed": false,
          "searchable": true,
          "embeddable": true
        },
        {
          "name": "company_id",
          "label": "Company ID",
          "type": "reference",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false,
          "reference_entity": "company"
        },
        {
          "name": "contact_id",
          "label": "Contact ID",
          "type": "reference",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false,
          "reference_entity": "contact"
        }
      ]
    },
    {
      "name": "product",
      "label": "Product",
      "scope": "tenant",
      "fields": [
        {
          "name": "name",
          "label": "Name",
          "type": "string",
          "required": true,
          "indexed": true,
          "searchable": true,
          "embeddable": true
        },
        {
          "name": "brand",
          "label": "Brand",
          "type": "string",
          "required": true,
          "indexed": true,
          "searchable": true,
          "embeddable": false
        },
        {
          "name": "model",
          "label": "Model",
          "type": "string",
          "required": true,
          "indexed": true,
          "searchable": true,
          "embeddable": false
        },
        {
          "name": "year",
          "label": "Year",
          "type": "number",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "vehicle_type",
          "label": "Vehicle Type",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false,
          "validation": {
            "enum": ["nuova", "usata", "km0"]
          }
        },
        {
          "name": "price",
          "label": "Price",
          "type": "number",
          "required": true,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "km",
          "label": "Km",
          "type": "number",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "color",
          "label": "Color",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": true,
          "embeddable": false
        },
        {
          "name": "fuel_type",
          "label": "Fuel Type",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false,
          "validation": {
            "enum": ["diesel", "benzina", "elettrica", "ibrida"]
          }
        },
        {
          "name": "vin",
          "label": "Vin",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": true,
          "embeddable": false
        },
        {
          "name": "license_plate",
          "label": "License Plate",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": true,
          "embeddable": false
        },
        {
          "name": "description",
          "label": "Description",
          "type": "text",
          "required": false,
          "indexed": false,
          "searchable": true,
          "embeddable": true
        }
      ]
    },
    {
      "name": "deal",
      "label": "Deal",
      "fields": [
        {
          "name": "deal_number",
          "label": "Deal Number",
          "type": "string",
          "required": true,
          "indexed": true,
          "searchable": true,
          "embeddable": false
        },
        {
          "name": "title",
          "label": "Title",
          "type": "string",
          "required": true,
          "indexed": true,
          "searchable": true,
          "embeddable": true
        },
        {
          "name": "description",
          "label": "Description",
          "type": "text",
          "required": false,
          "indexed": false,
          "searchable": true,
          "embeddable": true
        },
        {
          "name": "contact_id",
          "label": "Contact ID",
          "type": "reference",
          "required": true,
          "indexed": true,
          "searchable": false,
          "embeddable": false,
          "reference_entity": "contact"
        },
        {
          "name": "product_id",
          "label": "Product ID",
          "type": "reference",
          "required": true,
          "indexed": true,
          "searchable": false,
          "embeddable": false,
          "reference_entity": "product"
        },
        {
          "name": "status",
          "label": "Status",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "stage",
          "label": "Stage",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "sale_price",
          "label": "Sale Price",
          "type": "number",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "start_date",
          "label": "Start Date",
          "type": "date",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "close_date",
          "label": "Close Date",
          "type": "date",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "expected_close_date",
          "label": "Expected Close Date",
          "type": "date",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "sales_rep",
          "label": "Sales Rep",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "notes",
          "label": "Notes",
          "type": "text",
          "required": false,
          "indexed": false,
          "searchable": true,
          "embeddable": true
        },
        {
          "name": "probability",
          "label": "Probability",
          "type": "number",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        }
      ]
    },
    {
      "name": "service_order",
      "label": "Ordini",
      "fields": [
        {
          "name": "order_number",
          "label": "Order Number",
          "type": "string",
          "required": true,
          "indexed": true,
          "searchable": true,
          "embeddable": false,
          "show_in_search_results": true
        },
        {
          "name": "service_type",
          "label": "Tipo di Servizio",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": true,
          "embeddable": false,
          "multiple": true,
          "validation": {
            "enum": ["parts", "maintenance", "consumable", "warranty", "others", "tagliando"]
          }
        },
        {
          "name": "vehicle_id",
          "label": "Vehicle ID",
          "type": "reference",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false,
          "reference_entity": "product"
        },
        {
          "name": "customer_id",
          "label": "Customer ID",
          "type": "reference",
          "required": true,
          "indexed": true,
          "searchable": false,
          "embeddable": false,
          "reference_entity": "contact"
        },
        {
          "name": "appointment_date",
          "label": "Appointment Date",
          "type": "datetime",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "technician",
          "label": "Technician",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "status",
          "label": "Status",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "description",
          "label": "Description",
          "type": "text",
          "required": false,
          "indexed": false,
          "searchable": true,
          "embeddable": true
        },
        {
          "name": "estimated_cost",
          "label": "Estimated Cost",
          "type": "number",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "final_cost",
          "label": "Final Cost",
          "type": "number",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        }
      ]
    },
    {
      "name": "document",
      "label": "Document",
      "fields": [
        {
          "name": "title",
          "label": "Title",
          "type": "string",
          "required": true,
          "indexed": true,
          "searchable": true,
          "embeddable": true
        },
        {
          "name": "filename",
          "label": "Filename",
          "type": "string",
          "required": true,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "mime_type",
          "label": "Mime Type",
          "type": "string",
          "required": true,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "file_size",
          "label": "File Size",
          "type": "number",
          "required": true,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "storage_path",
          "label": "Storage Path",
          "type": "string",
          "required": true,
          "indexed": false,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "document_type",
          "label": "Document Type",
          "type": "string",
          "required": true,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "related_entity_type",
          "label": "Related Entity Type",
          "type": "string",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false
        },
        {
          "name": "related_entity_id",
          "label": "Related Entity ID",
          "type": "reference",
          "required": false,
          "indexed": true,
          "searchable": false,
          "embeddable": false,
          "reference_entity": "*"
        },
        {
          "name": "processing_status",
          "label": "Processing Status",
          "type": "string",
          "required": true,
          "indexed": true,
          "searchable": false,
          "embeddable": false,
          "validation": {
            "enum": ["pending", "processing", "completed", "failed"]
          }
        },
        {
          "name": "extracted_content",
          "label": "Extracted Content",
          "type": "text",
          "required": false,
          "indexed": false,
          "searchable": true,
          "embeddable": true
        },
        {
          "name": "metadata",
          "label": "Metadata",
          "type": "json",
          "required": false,
          "indexed": false,
          "searchable": false,
          "embeddable": false
        }
      ]
    }
  ]
}
